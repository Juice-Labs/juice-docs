"use strict";(self.webpackChunkjuice_docs=self.webpackChunkjuice_docs||[]).push([[2982],{1340:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>t,metadata:()=>i,toc:()=>r});const i=JSON.parse('{"id":"juice/user-guide/cli-app/manual-sessions","title":"Manually Managing Sessions","description":"You can also manage sessions yourself, without the run command. This could prove useful if you want to:","source":"@site/docs/juice/user-guide/cli-app/manual-sessions.md","sourceDirName":"juice/user-guide/cli-app","slug":"/juice/user-guide/cli-app/manual-sessions","permalink":"/docs/juice/user-guide/cli-app/manual-sessions","draft":false,"unlisted":false,"editUrl":"https://github.com/juice-labs/juice-docs/edit/master/docs/juice/user-guide/cli-app/manual-sessions.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Manually Managing Sessions","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Running Concurrent Workloads","permalink":"/docs/juice/user-guide/cli-app/concurrent-workloads"},"next":{"title":"Sharing a GPU","permalink":"/docs/juice/user-guide/cli-app/gpu-sharing"}}');var o=s(4848),a=s(8453);const t={title:"Manually Managing Sessions",sidebar_position:5},l="Manually Managing Sessions",c={},r=[{value:"Enabling applications to automatically run with Juice <strong>Windows only</strong>",id:"enabling-applications-to-automatically-run-with-juice-windows-only",level:3},{value:"Choosing a Specific GPU",id:"choosing-a-specific-gpu",level:3},{value:"To connect to a specific GPU:",id:"to-connect-to-a-specific-gpu",level:4},{value:"Requesting a Multi-GPU Session",id:"requesting-a-multi-gpu-session",level:3}];function u(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"manually-managing-sessions",children:"Manually Managing Sessions"})}),"\n",(0,o.jsx)(n.p,{children:"You can also manage sessions yourself, without the run command. This could prove useful if you want to:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Stay connected to the same GPU across multiple application runs"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Connect to a specific GPU"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Use"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-powershell",children:"juice session request \n"})}),"\n",(0,o.jsx)(n.p,{children:"to connect you to a GPU in one of your pools. You will remain connected until you run session release. You can use this command to run multiple processes under a single session a single machine."}),"\n",(0,o.jsxs)(n.p,{children:["A client system cannot maintain multiple sessions simultaneously. At any given time it will have one, and only one, ",(0,o.jsx)(n.em,{children:"active"})," session. Trying to request a session while one is already active will result in an error message."]}),"\n",(0,o.jsx)(n.p,{children:"Use session list to see your current session if any, adding --all to see all sessions in pools you have access to."}),"\n",(0,o.jsxs)(n.h3,{id:"enabling-applications-to-automatically-run-with-juice-windows-only",children:["Enabling applications to automatically run with Juice ",(0,o.jsx)(n.strong,{children:"Windows only"})]}),"\n",(0,o.jsx)(n.p,{children:"When you have an active session, you can use these commands to force applications to always run with Juice:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-powershell",children:"juice session add-path <path>\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-powershell",children:"juice session remove-path <path>\n"})}),"\n",(0,o.jsx)(n.p,{children:"You can use either the full path to the executable or a folder path. Using a folder path will automatically enable all executables under that folder to use Juice."}),"\n",(0,o.jsxs)(n.p,{children:["The commands are applied only for the ",(0,o.jsx)(n.em,{children:"current active session"}),". When the session is released, the paths are reset and will have to be added again."]}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"add-path"})," and ",(0,o.jsx)(n.code,{children:"remove-path"})," are only available under Windows."]})}),"\n",(0,o.jsx)(n.h3,{id:"choosing-a-specific-gpu",children:"Choosing a Specific GPU"}),"\n",(0,o.jsx)(n.p,{children:"There may be times where you want to make sure you are able to connect to a specific GPU within a pool via the CLI."}),"\n",(0,o.jsx)(n.h4,{id:"to-connect-to-a-specific-gpu",children:"To connect to a specific GPU:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Use gpu list to see all GPUs available to you in any of your pools."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Look for a GPU where Used VRAM is 0 B, indicating that it is available."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Copy the ID value of the GPU that you want to connect to."}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsx)(n.p,{children:"Specify the GPU\u2019s ID for the run command using run -\u2013gpu-ids <id> or by requesting a session using session request --gpu-ids <id>."})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"requesting-a-multi-gpu-session",children:"Requesting a Multi-GPU Session"}),"\n",(0,o.jsx)(n.p,{children:"To specify the number of GPUs you want for a session, you must input the following in the CLI after requesting a session or running an application:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-powershell",children:"--num-gpus <count>\n"})}),"\n",(0,o.jsx)(n.p,{children:"The syntax for this is:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-powershell",children:"juice run -\u2013num-gpus 2 <application> \n"})}),"\n",(0,o.jsx)(n.p,{children:"For this to work, you must have multiple shared and available GPUs from the same machine, otherwise you will get an error message."})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var i=s(6540);const o={},a=i.createContext(o);function t(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);